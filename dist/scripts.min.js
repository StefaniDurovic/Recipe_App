const searchBtn=document.querySelector(".search-btn"),recipeList=document.querySelector(".recipes-list"),input=document.querySelector("input"),recipeBtn=document.querySelector(".card-btn"),recipeModalContent=document.querySelector(".modal-content");function getMealList(){fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${document.querySelector("input").value.trim()}`).then(e=>e.json()).then(e=>{let t="";e.meals?(t="<h2>Here are your search results:</h2>",e.meals.forEach(e=>{t+=`
                <div class="card col-lg-4" data-id="${e.idMeal}">
                    <img src="${e.strMealThumb}" class="card-img-top" alt="image of ${e.strMeal}">
                    <div class="card-body">
                        <h5 class="card-title">${e.strMeal}</h5>
                        <button class="btn card-btn" data-bs-toggle="modal" data-bs-target="#exampleModal">To the recipe!</button>
                    </div>
                </div>
            `})):t="Sorry, we currently have no meals with your desired ingredient!",recipeList.innerHTML=t})}function getRecipe(e){e.preventDefault(),e.target.classList.contains("card-btn")&&fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e.target.parentElement.parentElement.dataset.id}`).then(e=>e.json()).then(e=>recipeModal(e.meals))}function recipeModal(e){e=e[0];let t=`
        <div class="modal-header border-0">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-header border-0">
            <h1 class="modal-title fs-3" id="exampleModalLabel">${e.strMeal}</h1>
        </div>
        <div class="modal-body">
            <h4 class="instructions-word text-center">Instructions:</h4>
            <p class="text-center">${e.strInstructions}</p>
            <img class="modal-img" src="${e.strMealThumb}" alt="picture of ${e.strMeal}">
        </div>
        <div class="modal-footer border-0">
            <a href="${e.strYoutube}" target="_blank" class="btn modal-link">Watch video</a>
        </div>
    `;recipeModalContent.innerHTML=t}searchBtn.addEventListener("click",getMealList),input.addEventListener("keypress",function(e){"Enter"===e.key&&getMealList()}),recipeList.addEventListener("click",getRecipe);